[Tests]
  design = 'MooseObject.md DataFileInterface.md'
  issues = '#20839 #29141'

  [param]
    requirement = 'The system shall be to find data files via a parameter in designated directories for'
    [in_tree]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file=README.md'
      expect_out = 'data_file_relative="../../../../framework/data/README.md"'
      detail = 'in-tree builds'
      installation_type = in_tree
    []
    [relocated]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file=README.md'
      expect_out = 'data_file_relative_to_binary="../share/moose/data/README.md"'
      requirement = 'The system shall be to find data files via a parameter in designated directories for installed builds'
      detail = 'and in installed builds'
      installation_type = relocated
    []
  []
  [param_error]
    type = RunException
    input = test.i
    cli_args = 'UserObjects/data_file/data_file=this/file/does/not/exist/anywhere.dat'
    expect_err = 'CLI_ARGS:1: \(UserObjects/data_file/data_file\) Unable to find the data file \'this/file/does/not/exist/anywhere.dat\' anywhere.\s+Paths searched:\s+moose:(.*)'
    requirement = 'The system shall throw an exception if a data file by parameter cannot be found in any of the designated directories.'
  []
  [by_path]
    requirement = 'The system shall be to find data files via a path in designated directories for'
    [in_tree]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file_by_path=README.md'
      expect_out = 'Using data file \'(.*)/framework/data/README.md\' from moose data(.*)data_file_by_path_relative="../../../../framework/data/README.md"'
      detail = 'in-tree builds'
      installation_type = in_tree
    []
    [relocated]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file_by_path=README.md'
      expect_out = 'Using data file \'(.*)/framework/data/README.md\' from moose data(.*)data_file_by_path_relative_to_binary="../share/moose/data/README.md"'
      detail = 'and in installed builds builds'
      installation_type = relocated
    []
  []
  [param_deprecated]
    requirement = 'The system shall be to find data files via a parameter in designated directories using the deprecated interface for'
    [in_tree]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file_deprecated=README.md'
      expect_out = 'data_file_deprecated_relative="../../../../framework/data/README.md"'
      detail = 'in-tree builds'
      installation_type = in_tree
    []
    [relocated]
      type = RunApp
      input = test.i
      cli_args = 'UserObjects/data_file/data_file=README.md'
      expect_out = data_file_deprecated_relative_to_binary="../share/moose/data/README.md"'
      requirement = 'The system shall be to find data files via a parameter in designated directories for installed builds'
      detail = 'and in installed builds'
      installation_type = relocated
    []
  []
  [show_data_files]
    type = RunApp
    input = test.i
    cli_args = 'UserObjects/data_file/data_file=README.md --show-data-files'
    expect_out = 'UserObjects/data_file/data_file = (.*)framework/data/README.md'
    installation_type = in_tree
    requirement = 'The system shall support the output of all consumed data files via a parameter in designated data directories'
  []
[]
